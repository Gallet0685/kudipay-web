<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>KudiPay</title>
  <script type="module">
    import { EthereumClient, w3mConnectors, w3mProvider } from "https://unpkg.com/@web3modal/ethereum?module";
    import { Web3Modal } from "https://unpkg.com/@web3modal/html?module";
    import { configureChains, createConfig, WagmiConfig } from "https://unpkg.com/wagmi?module";
    import { mainnet } from "https://unpkg.com/wagmi/chains?module";

    const projectId = "YOUR_PROJECT_ID"; // получи на https://cloud.walletconnect.com/

    const chains = [mainnet];
    const { publicClient } = configureChains(chains, [w3mProvider({ projectId })]);

    const wagmiConfig = createConfig({
      autoConnect: true,
      connectors: w3mConnectors({ projectId, version: 2, chains }),
      publicClient
    });

    const ethereumClient = new EthereumClient(wagmiConfig, chains);

    const modal = new Web3Modal({
      projectId,
      themeMode: "light",
      themeVariables: {
        "--w3m-accent-color": "#4CAF50"
      }
    }, ethereumClient);

    // теперь можешь запускать modal.openModal() при нажатии кнопки
    window.connectWallet = () => {
      modal.openModal();
    };
  </script>
</head>
<body>
  <h2>Pay with KudiPay</h2>
  <button onclick="connectWallet()">Connect Wallet</button>
</body>
</html>
